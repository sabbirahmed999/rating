/* APS Products JavaScripts */
!function(c){"use strict";var n="rtl"==c("html").attr("dir")?"rtl":"ltr";function i(t){return t?aps_vars.comp_link+function(t){if(t)return new Hashids(aps_vars.comp_cn,10).encode(t)}(t)+"/":aps_vars.comp_link}function o(t,a,e){t="success"==t?'<span class="aps-msg-success"><span class="aps-icon-check"></span>'+a+"</span>":"error"==t?'<span class="aps-msg-errors"><span class="aps-icon-attention"></span>'+a+"</span>":a,c("body").append('<div class="aps-msg-overlay"></div><div class="aps-res-msg"><span class="aps-icon-cancel aps-close-box aps-close-icon"></span>'+t+"</div>");var s=c(".aps-res-msg"),n=c(".aps-msg-overlay"),a=s.outerHeight()/2,t=s.outerWidth()/2;function i(){s.fadeOut("slow",function(){c(this).remove(),n.fadeOut("fast",function(){c(this).remove()})})}s.css({marginTop:"-"+a+"px",marginLeft:"-"+t+"px"}),n.fadeIn(200),s.fadeIn(300),e&&setTimeout(i,3e3),c(".aps-close-box").click(i)}function r(t){var a;aps_vars.show_panel&&(0<((a=c.cookie(aps_vars.comp_cn))?a.split(","):[]).length?(c(".aps-comps-overlay").length||c("body").append('<div class="aps-comps-overlay"></div>'),c(".aps-comps-overlay").addClass("aps-comps-loading"),a={action:"aps-comps",pos:a,active:c(".aps-comps-list.active-list").data("id")},c.ajax({url:aps_vars.ajaxurl,type:"GET",data:a,beforeSend:function(){1==t&&("rtl"==n?c(".aps-comps-overlay").animate({left:"-262px"},200):c(".aps-comps-overlay").animate({right:"-262px"},200))},success:function(t){t&&c(".aps-comps-overlay").html(t)},complete:function(){1==t&&(c(".aps-comps-handle").addClass("opened"),"rtl"==n?c(".aps-comps-overlay").animate({left:"0"},300):c(".aps-comps-overlay").animate({right:"0"},300)),c(".aps-comps-overlay").removeClass("aps-comps-loading")}})):"rtl"==n?c(".aps-comps-overlay").animate({left:"-262px"},300,function(){c(this).remove()}):c(".aps-comps-overlay").animate({right:"-262px"},300,function(){c(this).remove()}))}c(window).on("load scroll rating",function(){c('[data-bar="true"]').each(function(){c(this).apsAnimateBar(3e3)}),c('[data-bar="false"]').each(function(){var t=c(this).find('[data-type="bar"]'),a=t.data("width");t.css("width",a)})}),c(document).on({mouseenter:function(){var t=c(this).next(".aps-tooltip-data").html();c("body").append('<span class="aps-tooltip-display">'+t+"</span>").show(300)},mouseleave:function(){c(".aps-tooltip-display").hide(50,function(){c(this).remove()})},mousemove:function(t){var a=t.pageY+20,e=t.pageX+15,s=c(".aps-tooltip-display");"rtl"==n?(t=c(window).width()-e,s.css({top:a,right:t})):s.css({top:a,left:e})}},".aps-tooltip"),c.fn.apsIsVisible=function(){var t=c(window),a={top:t.scrollTop(),left:t.scrollLeft()};if(a.right=a.left+t.width(),a.bottom=a.top+t.height(),this.is(":visible")){t=this.offset();return t.right=t.left+this.outerWidth(),t.bottom=t.top+this.outerHeight(),!(a.right<t.left||a.left>t.right||a.bottom<t.top||a.top>t.bottom)}},c.fn.apsAnimateBar=function(t){var a=this.find('[data-type="num"]'),e=this.find('[data-type="bar"]'),s=this.data("rating"),s={num:s,wid:10*s};e.apsIsVisible(!0)&&!this.hasClass("aps-animated")&&(this.addClass("aps-animated"),c({num:0,wid:0}).animate(s,{duration:t,step:function(){a.html(Number(this.num.toFixed(1))),e.css("width",this.wid+"%")}}))},c.cookie=function(t,a,e){if(1<arguments.length&&(null===a||"object"!=typeof a)){var s,n,e=jQuery.extend({},e);return null===a&&(e.expires=-1),"number"==typeof e.expires&&(s=e.expires,(n=e.expires=new Date).setDate(n.getDate()+s)),document.cookie=[encodeURIComponent(t),"=",e.raw?String(a):encodeURIComponent(String(a)),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")}e=(e=a||{}).raw?function(t){return t}:decodeURIComponent;return(t=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?e(t[1]):null},c(document).on("change",".aps-compare-cb",function(t){var a=c(this),e=a.val().toString(),s=a.data("ctd").toString(),n=a.parent(".aps-compare-btn");n.data("title");a.is(":checked")?!function(t){var a="",e=c.cookie(aps_vars.comp_cn);if(e){for(var s=e.split(","),s=c.grep(s,function(t){return t}),n=0;n<s.length;n++){var i=s[n],o=i.split("_");o[0]===t&&(a=o[1],0)}if(a=a.split("-"),(a=c.grep(a,function(t){return t})).length==aps_vars.comp_max)return!1}return!0}(s)?a.prop("checked",!1):(c.apsAddToCompare(e,s),setTimeout(function(){n.find(".aps-compare-txt").text(aps_vars.comp_rem)},500)):(c.apsRemoveFrmCompare(e,s),setTimeout(function(){n.find(".aps-compare-txt").text(aps_vars.comp_add)},500)),r(!0)}),c(document).on("click",".aps-add-compare",function(t){t.preventDefault();var a=c(this),e=a.data("pid").toString(),s=a.data("ctd").toString(),t=a.data("reload"),n=(a.data("title"),c.apsAddToCompare(e,s));void 0!==t&&1==t&&setTimeout(function(){location=i(n)},1e3)}),c(document).on("click",".aps-remove-compare",function(t){t.preventDefault();var a,e=c(this),s=e.data("pid").toString(),t=e.data("ctd").toString(),e=e.data("load"),n=c.apsRemoveFrmCompare(s,t);void 0!==e&&1==e?setTimeout(function(){location=i(n)},1e3):(s=c("input[name='compare-id-"+s+"']:checkbox"),a=s.parent(".aps-compare-btn"),s.prop("checked",!1),setTimeout(function(){a.find(".aps-compare-txt").text(aps_vars.comp_add)},500),r(!0))}),c.apsAddToCompare=function(t,a){var e="",s=c.cookie(aps_vars.comp_cn);if(s){for(var n="",i=s.split(","),i=c.grep(i,function(t){return t}),o=0;o<i.length;o++){var r=i[o],p=r.split("_");p[0]===a&&(e=p[1],n=r)}e=e.split("-"),e=c.grep(e,function(t){return t}),c.inArray(t,e)<0&&(e.length<aps_vars.comp_max&&e.push(t),l=(l=[a,l=e.join("-")]).join("_"),1<e.length?i[i.indexOf(n)]=l:i.push(l),l=(i=c.grep(i,function(t){return t})).join(","),c.cookie(aps_vars.comp_cn,l,{expires:7,path:"/"}))}else{var l=a+"_"+(e=t);c.cookie(aps_vars.comp_cn,l,{expires:7,path:"/"})}return e},c.apsRemoveFrmCompare=function(t,a){for(var e=c.cookie(aps_vars.comp_cn).split(","),e=c.grep(e,function(t){return t}),s="",n="",i=0;i<e.length;i++){var o=e[i].split("_");o[0]===a&&(s=o[1],n=o)}s=s.split("-"),s=c.grep(s,function(t){return t}),-1<c.inArray(t,s)&&s.splice(c.inArray(t,s),1);t=0<s.length?a+"_"+s.join("-"):"";e[e.indexOf(n.join("_"))]=t;t=(e=c.grep(e,function(t){return t})).join(",");return c.cookie(aps_vars.comp_cn,t,{expires:7,path:"/"}),s},c(document).on("mouseenter touchstart",".aps-dropdown",function(){c(this).find("ul").stop().slideDown()}),c(document).on("mouseleave touchend",".aps-dropdown",function(){c(this).find("ul").stop().slideUp()}),c(document).on("click",".aps-display-controls li a",function(t){var a=c(".aps-products"),e="aps-products-grid",s="aps-products-list";c(".aps-display-controls li a").removeClass("selected"),c(this).addClass("selected"),c(this).hasClass("aps-display-list")?(a.removeClass(e).addClass(s),c.cookie("aps_display","list",{expires:30,path:"/"})):(a.removeClass(s).addClass(e),c.cookie("aps_display","grid",{expires:30,path:"/"})),t.preventDefault()}),c(document).on("submit","#apsReviewForm",function(t){var a=c(this),e=a.find(".aps-button"),s=a.serialize();c.ajax({url:aps_vars.ajaxurl,type:"POST",data:s,dataType:"json",beforeSend:function(){e.hide(),e.after('<span class="aps-loading alignright"></span>')},success:function(t){t.success?(o("success",t.success,!0),a.trigger("reset")):o("error",t.error,!0)},complete:function(){e.next(".aps-loading").remove(),e.show()}}),t.preventDefault()}),c(document).on("click",".aps-comps-handle",function(){c(this).hasClass("opened")?(c(this).removeClass("opened"),"rtl"==n?c(this).parent().animate({left:"-262px"},200):c(this).parent().animate({right:"-262px"},200)):(c(this).addClass("opened"),"rtl"==n?c(this).parent().animate({left:"0"},300):c(this).parent().animate({right:"0"},300))}),c(window).on("load",function(){r(!1)}),c(document).on("click",".aps-comps-nav span",function(t){var a=c(this),e=c(".aps-comps-list.active-list");e.removeClass("active-list"),a.hasClass("aps-comps-next")?(0<e.next(".aps-comps-list").length?e.next(".aps-comps-list"):c(".aps-comps-list:first")).addClass("active-list"):a.hasClass("aps-comps-prev")&&(0<e.prev(".aps-comps-list").length?e.prev(".aps-comps-list"):c(".aps-comps-list:last")).addClass("active-list")}),c(document).on("click",".aps-table-fold",function(t){var a=c(this),e=a.find(".aps-tb-fold-open"),s=a.find(".aps-tb-fold-close"),a=a.parent().find(".aps-attr-infold");a.hasClass("aps-attr-exfold")?(a.removeClass("aps-attr-exfold"),e.css("display","block"),s.css("display","none")):(a.addClass("aps-attr-exfold"),e.css("display","none"),s.css("display","block")),t.preventDefault()})}(jQuery),jQuery(document).ready(function(o){"use strict";var e;o(".aps-tab-container").hasClass("aps-tabs-init")&&((a=window.location.hash)?(o(a).show(),o(".aps-tabs li[data-id='"+a+"']").addClass("active")):(o(".aps-tab-content:first").show(),o(".aps-tabs li:first").addClass("active"),o(".aps-tabs-bottom li:first").addClass("active")),o("ul.aps-tabs li").on("click",function(t){var a=o(this),e=a.data("id");o("ul.aps-tabs li").removeClass("active"),o(".aps-tabs li[data-id='"+e+"']").addClass("active");a=a.find("a").attr("href");o(a).fadeIn(300),o(".aps-tab-content").not(a).hide(),o("html, body").animate({scrollTop:o(a).offset().top-80},500),history.pushState?history.pushState(null,null,a):window.location.hash=a,o(window).trigger("rating"),t.preventDefault()})),o(".aps-main-image").hasClass("aps-main-img-zoom")&&(e=ImageViewer(),o(".aps-main-image").on("click",function(){var t=o(this).find(".aps-image-zoom"),a=t.attr("src"),t=t.data("src");e.show(a,t)})),o('[data-carousel="1"]').each(function(){var t=o(this),a={items:t.data("items")?t.data("items"):4,autoplay:1===t.data("auto"),autoplayTimeout:t.data("timeout")?1e3*t.data("timeout"):5e3,autoplayHoverPause:1===t.data("hover"),loop:1===t.data("loop"),nav:1===t.data("nav"),margin:t.data("margin")?t.data("margin"):10,rtl:"rtl"==o("html").attr("dir"),navText:t.data("navtext")?t.data("navtext"):["&lsaquo;","&rsaquo;"],responsive:t.data("responsive")?t.data("responsive"):{0:{items:3},768:{items:4}}};t.owlCarousel(a)});var r=[];o(".aps-image-gallery").on("click","img",function(t){var a=o(this),e=o(".aps-img-loader"),s=o(".aps-image-zoom"),n=s.attr("src"),i=a.data("src");o.inArray(n,r)<0&&r.push(n),s.data("src")!=i&&(s.data("src",i).attr("src",i),i.match(/.*\/(.*)$/)[1],o.inArray(i,r)<0&&(e.fadeIn(50),s.on("load",function(){e.fadeOut(300)})),o(".aps-thumb-item").removeClass("active-thumb"),a.parent().addClass("active-thumb"))});var t,a,s=o(".aps-product-videos");1===s.data("enable")&&(t=s.data("effect"),a=1===s.data("nav"),s=1===s.data("close"),o(".aps-lightbox").nivoLightbox({effect:t,keyboardNav:a,clickOverlayToClose:s}));function n(t){var a=t.parent().attr("id"),e=parseInt(t.val()),s=parseInt(t.attr("max")),n=parseInt(t.data("min")),i=o("#apsReviewForm").data("color"),s="#"+a+" input::-webkit-slider-runnable-track {background: linear-gradient(to "+("rtl"==o("html").attr("dir")?"left":"right")+", "+i+" 0%, "+i+" "+(e=e<n?(t.val(n).trigger("change"),100*n/s):100*e/s)+"%, #e5e6e7 "+e+"%, #e5e6e7 100%);}";0<o("#style-"+a).length?document.getElementById("style-"+a).textContent=s:((e=document.createElement("style")).setAttribute("id","style-"+a),document.body.appendChild(e),e.textContent=s)}o(".aps-range-slider-range").each(function(){var t=o(this),a=parseInt(t.val());t.next().html(a),n(t),t.on("input change",function(){var t=o(this),a=0,e=0,s=parseInt(t.val());t.next().html(s),n(t),o(".aps-range-slider-range").each(function(){a+=Number(o(this).val()),e++});t=(a/e).toFixed(1).replace(/\.0$/,"");o(".aps-total-score").text(t)})})}),function(t,a){"function"==typeof define&&define.amd?define(["module","exports"],a):"undefined"!=typeof exports?a(module,exports):(a(a={exports:{}},a.exports),t.Hashids=a.exports)}(this,function(t,a){"use strict";function s(t,a){for(var e=0;e<a.length;e++){var s=a[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}Object.defineProperty(a,"__esModule",{value:!0});var e=(function(t,a,e){return a&&s(t.prototype,a),e&&s(t,e),t}(l,[{key:"encode",value:function(){for(var t=arguments.length,a=Array(t),e=0;e<t;e++)a[e]=arguments[e];if(!a.length)return"";if(a[0]&&a[0].constructor===Array&&!(a=a[0]).length)return"";for(var s=0;s!==a.length;s++)if(a[s]=this.parseInt(a[s],10),!(0<=a[s]))return"";return this._encode(a)}},{key:"decode",value:function(t){return t&&t.length&&"string"==typeof t?this._decode(t,this.alphabet):[]}},{key:"encodeHex",value:function(t){if(t=t.toString(),!/^[0-9a-fA-F]+$/.test(t))return"";for(var a=t.match(/[\w\W]{1,12}/g),e=0;e!==a.length;e++)a[e]=parseInt("1"+a[e],16);return this.encode.apply(this,a)}},{key:"decodeHex",value:function(t){for(var a=[],e=this.decode(t),s=0;s!==e.length;s++)a+=e[s].toString(16).substr(1);return a}},{key:"_encode",value:function(t){for(var a=void 0,e=this.alphabet,s=0,n=0;n!==t.length;n++)s+=t[n]%(n+100);for(var i,o=a=e.charAt(s%e.length),r=0;r!==t.length;r++){var p=t[r],l=o+this.salt+e,e=this._shuffle(e,l.substr(0,e.length)),l=this._toAlphabet(p,e);a+=l,r+1<t.length&&(p=(p%=l.charCodeAt(0)+r)%this.seps.length,a+=this.seps.charAt(p))}a.length<this.minLength&&(i=(s+a[0].charCodeAt(0))%this.guards.length,(a=this.guards[i]+a).length<this.minLength&&(i=(s+a[2].charCodeAt(0))%this.guards.length,a+=this.guards[i]));for(var c=parseInt(e.length/2,10);a.length<this.minLength;){var h=(a=(e=this._shuffle(e,e)).substr(c)+a+e.substr(0,c)).length-this.minLength;0<h&&(a=a.substr(h/2,this.minLength))}return a}},{key:"_decode",value:function(t,a){var e=[],s=0,n=new RegExp("["+this.escapeRegExp(this.guards)+"]","g");if(3!==(r=(o=t.replace(n," ")).split(" ")).length&&2!==r.length||(s=1),void 0!==(o=r[s])[0]){for(var i=o[0],o=o.substr(1),n=new RegExp("["+this.escapeRegExp(this.seps)+"]","g"),r=(o=o.replace(n," ")).split(" "),p=0;p!==r.length;p++){var l=r[p],c=i+this.salt+a;a=this._shuffle(a,c.substr(0,a.length)),e.push(this._fromAlphabet(l,a))}this._encode(e)!==t&&(e=[])}return e}},{key:"_shuffle",value:function(t,a){var e;if(!a.length)return t;for(var s,n=t.length-1,i=0,o=0;0<n;n--,i++){i%=a.length,o+=e=a.charAt(i).charCodeAt(0);var r=t[s=(e+i+o)%n];t=(t=t.substr(0,s)+t.charAt(n)+t.substr(1+s)).substr(0,n)+r+t.substr(n+1)}return t}},{key:"_toAlphabet",value:function(t,a){for(var e="";e=a.charAt(t%a.length)+e,t=parseInt(t/a.length,10),t;);return e}},{key:"_fromAlphabet",value:function(t,a){for(var e=0,s=0;s<t.length;s++)e+=a.indexOf(t[s])*Math.pow(a.length,t.length-s-1);return e}}]),l);function l(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],a=arguments.length<=1||void 0===arguments[1]?0:arguments[1],e=arguments.length<=2||void 0===arguments[2]?"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890":arguments[2];!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var s,n="";this.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},this.parseInt=function(t,a){return/^(\-|\+)?([0-9]+|Infinity)$/.test(t)?parseInt(t,a):NaN},this.seps="cfhistuCFHISTU",this.minLength=0<parseInt(a,10)?a:0,this.salt="string"==typeof t?t:"","string"==typeof e&&(this.alphabet=e);for(var i=0;i!==this.alphabet.length;i++)-1===n.indexOf(this.alphabet.charAt(i))&&(n+=this.alphabet.charAt(i));if(this.alphabet=n,this.alphabet.length<16)throw"error: alphabet must contain at least X unique characters".replace("X",16);if(-1!==this.alphabet.search(" "))throw"error: alphabet cannot contain spaces";for(var o=0;o!==this.seps.length;o++){var r=this.alphabet.indexOf(this.seps.charAt(o));-1===r?this.seps=this.seps.substr(0,o)+" "+this.seps.substr(o+1):this.alphabet=this.alphabet.substr(0,r)+" "+this.alphabet.substr(r+1)}this.alphabet=this.alphabet.replace(/ /g,""),this.seps=this.seps.replace(/ /g,""),this.seps=this._shuffle(this.seps,this.salt),(!this.seps.length||3.5<this.alphabet.length/this.seps.length)&&(s=Math.ceil(this.alphabet.length/3.5))>this.seps.length&&(p=s-this.seps.length,this.seps+=this.alphabet.substr(0,p),this.alphabet=this.alphabet.substr(p)),this.alphabet=this._shuffle(this.alphabet,this.salt);var p=Math.ceil(this.alphabet.length/12);this.alphabet.length<3?(this.guards=this.seps.substr(0,p),this.seps=this.seps.substr(p)):(this.guards=this.alphabet.substr(0,p),this.alphabet=this.alphabet.substr(p))}a.default=e,t.exports=a.default});